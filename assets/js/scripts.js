"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function createProfile(){var e=document.querySelector(".user__name"),r=document.querySelector(".user__surname"),a=document.querySelector(".user__photo");e.innerHTML=name,r.innerHTML=surname,a.src=photoUrl}var name,surname,photo,photoUrl,data={},addUser=document.querySelector(".js-adduser-btn"),errorMessage=document.querySelector(".js-error-message"),localData=localStorage.getItem("user");localData&&(data=JSON.parse(localData));var Users=function e(r,a,o){_classCallCheck(this,e),this.name=r,this.surname=a,this.photo=o};addUser&&addUser.addEventListener("click",function(){if(name=document.querySelector(".registration__field--name").value,surname=document.querySelector(".registration__field--surname").value,photoUrl=document.querySelector(".registration__field--photo").files[0],!name||!surname||!photoUrl)return void(errorMessage.innerHTML="Все поля обязательны к заполнению. ");if("image/png"!=photoUrl.type&&"image/jpeg"!=photoUrl.type)return void(errorMessage.innerHTML="Доступный формат фото: jpg и png. ");if(photoUrl.size>512e3)return void(errorMessage.innerHTML="Максимальные размер файлы 500 КБ ");var e=new FileReader;e.readAsDataURL(photoUrl),e.onloadend=function(){photo=e.result;var r=new Users(name,surname,photo);localStorage.setItem("user",JSON.stringify(r))}}),localData&&(name=data.name,surname=data.surname,photoUrl=data.photo),createProfile();